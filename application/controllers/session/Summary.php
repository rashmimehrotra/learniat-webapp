<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Summary extends MY_Controller {		function __construct()	{		parent::__construct();	}	/**	 * Session summery details	 */	public function index()	{		$this->load->database();		$this->load->model('class_session');		$this->load->helper('form');		$userId = $this->session->profileData['user_id'];		$classId = $this->input->post('sessionClassId');		$selectDuration = $this->input->post('sessionDuration');		$sessionResult = $this->class_session->getAllSessionIdByUserId($userId, $selectDuration, $classId, 5);		$this->load->library('services/External', '','externalService');		$sessionDates = $this->externalService->getSessionIdByDate($sessionResult);		$classesData = $this->class_session->getClassesData($userId);        $lastSessionId = $this->input->get('lastSessionId');        $lastSessionDate = $this->input->get('lastSessionDate');		$data = array(			'sessionDates' => $sessionDates,			'classesData' => $classesData,            'lastSessionId' => $lastSessionId,            'lastSessionDate' => $lastSessionDate		);		$this->load->view('session/summary', $data);	}		/*	 * Session summary page	 */	public function overview()	{		$this->load->database();		$this->load->model('class_session');		$userId = $this->session->profileData['user_id'];		$sessionId = $this->input->get('sessionId');		$sessionDate = $this->input->get('sessionDate');		$sessionResult = $this->class_session->getSessionSummaryDetails($sessionId, $sessionDate);				$this->load->model('graph');		$studentData = $this->graph->getParticipationIndexGraphData($sessionId);		$data = array(			'sessionId' => $sessionId,			'sessionResult' => $sessionResult,			'studentData' => $studentData,			'sessionDate' => $sessionDate		);		$this->load->view('session/overview', $data);			}		//Details of session	public function details()	{		$this->load->database();		$this->load->model('class_session');		$this->load->model('topic');		$this->load->model('graph');		$sessionId = $this->input->get('sessionId');		$topicList = $this->class_session->getTopicListWithQuestionAndQueryCount($sessionId);		$graphIndexAllData = $this->topic->getAllIndexByTopicIds($sessionId, $topicList);				$this->load->model('student');		$studentData = $this->student->getQuestionAndQueryCount($sessionId, 'participation-index');		//session heading bar		$sessionGraphIndex = $this->graph->getParticipationIndexGraphData($sessionId);				$sessionDate = $this->input->get('sessionDate');		$sessionDetails = $this->class_session->getSessionSummaryDetails($sessionId, $sessionDate);		$data = array(	        'sessionId' => $sessionId,            'sessionDate' => $sessionDate,	        'topicList' => $topicList,		    'graphIndexAllData' => $graphIndexAllData,		    'studentData' => $studentData,			'sessionDetails' => $sessionDetails,			'sessionGraphIndex' => $sessionGraphIndex		);		$this->load->view('session/details', $data);	}		public function sortStudentDetails()	{		$this->load->database();		$sessionId = $this->input->get('sessionId');		$sortBy = $this->input->get('sortBy');		$this->load->model('student');				$studentData = $this->student->getQuestionAndQueryCount($sessionId, $sortBy);		$data =  array(			'studentData' => $studentData['studentData'],			'maxParticipationIndex' => $studentData['maxParticipationIndex'],            'maxGraspIndex' => $studentData['maxGraspIndex'],			'sessionId' => $sessionId		);				$this->load->view('session/student-list', $data);	}	}